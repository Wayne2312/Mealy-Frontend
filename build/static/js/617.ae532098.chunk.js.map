{"version":3,"file":"static/js/617.ae532098.chunk.js","mappings":"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","sources":["AuthProvider.jsx","Header.jsx","LoginForm.jsx","CustomerDashboard.jsx","AdminDashboard.jsx","Home.jsx","App.jsx","usePaymentStatus.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(localStorage.getItem('token'));\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      fetchUser();\r\n    } else {\r\n      setUser(null);\r\n      delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n  }, [token]);\r\n\r\n  const fetchUser = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/auth/me/`);\r\n      setUser(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching user:\", error);\r\n      logout();\r\n    }\r\n  };\r\n\r\n  const login = async (email, password) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API}/auth/login/`, { email, password });\r\n      const { access_token, user: userData } = response.data;\r\n      localStorage.setItem('token', access_token);\r\n      setToken(access_token);\r\n      setUser(userData);\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error.response?.data || error.message);\r\n      return { success: false, error: error.response?.data?.detail || 'Login failed' };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const register = async (email, password, name, role = 'customer') => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API}/auth/register/`, { \r\n        email, password, name, role\r\n      });\r\n      const { access_token, user: userData } = response.data;\r\n      localStorage.setItem('token', access_token);\r\n      setToken(access_token);\r\n      setUser(userData);\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error.response?.data || error.message);\r\n      return { success: false, error: error.response?.data?.detail || 'Registration failed' };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    setToken(null);\r\n    setUser(null);\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, register, logout, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nconst useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport { AuthProvider, useAuth };\r\nexport default AuthProvider;","import React from 'react';\r\nimport { useAuth } from './AuthProvider';\r\n\r\nconst Header = () => {\r\n  const { user, logout } = useAuth();\r\n\r\n  return (\r\n    <header className=\"bg-white shadow-sm border-b\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center h-16\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center\">\r\n              <span className=\"text-white font-bold text-lg\">🍽️</span>\r\n            </div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Mealy</h1>\r\n          </div>\r\n          \r\n          {user && (\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-sm text-gray-600\">\r\n                Hello, {user.name}\r\n              </span>\r\n              <button\r\n                onClick={logout}\r\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, { useState } from 'react';\r\nimport { useAuth } from './AuthProvider';\r\n\r\nconst LoginForm = () => {\r\n  const { login, register, loading } = useAuth();\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    role: 'customer'\r\n  });\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    let result;\r\n    if (isLogin) {\r\n      result = await login(formData.email, formData.password);\r\n    } else {\r\n      result = await register(formData.email, formData.password, formData.name, formData.role);\r\n    }\r\n\r\n    if (!result.success) {\r\n      setError(result.error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"mx-auto w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center\">\r\n          <span className=\"text-white text-3xl\">🍽️</span>\r\n        </div>\r\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          Welcome to Mealy\r\n        </h2>\r\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n          Your favorite food ordering platform\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {!isLogin && (\r\n              <div>\r\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label>\r\n                <input\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  required\r\n                  className=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm\"\r\n                  placeholder=\"Enter your name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                required\r\n                className=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Enter your email\"\r\n                value={formData.email}\r\n                onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                required\r\n                className=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Enter your password\"\r\n                value={formData.password}\r\n                onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            {!isLogin && (\r\n              <div>\r\n                <label htmlFor=\"role\" className=\"block text-sm font-medium text-gray-700\">Account Type</label>\r\n                <select\r\n                  id=\"role\"\r\n                  className=\"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm\"\r\n                  value={formData.role}\r\n                  onChange={(e) => setFormData({...formData, role: e.target.value})}\r\n                >\r\n                  <option value=\"customer\">Customer</option>\r\n                  <option value=\"admin\">Admin/Caterer</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50\"\r\n            >\r\n              {loading ? 'Processing...' : (isLogin ? 'Sign In' : 'Sign Up')}\r\n            </button>\r\n\r\n            <div className=\"text-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"font-medium text-orange-600 hover:text-orange-500\"\r\n                onClick={() => setIsLogin(!isLogin)}\r\n              >\r\n                {isLogin ? 'Need an account? Sign up' : 'Already have an account? Sign in'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from './AuthProvider';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport usePaymentStatus from './usePaymentStatus';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\nconst CustomerDashboard = () => {\r\n  const { user } = useAuth();\r\n  const [todaysMenu, setTodaysMenu] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('menu');\r\n  const [loading, setLoading] = useState(false);\r\n  const [paymentProcessing, setPaymentProcessing] = useState(false);\r\n  const [currentPaymentOrderId, setCurrentPaymentOrderId] = useState(null);\r\n  const [paymentStatus, setPaymentStatus] = useState('pending'); // Or initial state\r\n  const [paymentError, setPaymentError] = useState(null);\r\n  const navigate = useNavigate();\r\n  \r\n  const fetchTodaysMenu = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/daily-menu/today/menu/`);\r\n      setTodaysMenu(response.data.meals || []);\r\n    } catch (error) {\r\n      console.error('Error fetching menu:', error);\r\n    }\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/orders/`);\r\n      setOrders(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTodaysMenu();\r\n    fetchOrders();\r\n  }, []);\r\n\r\n\r\n  const { status: polledStatus, error: polledError } = usePaymentStatus(currentPaymentOrderId, paymentStatus);\r\n    useEffect(() => {\r\n      if (polledStatus && polledStatus !== paymentStatus) {\r\n          setPaymentStatus(polledStatus);\r\n      }\r\n      if (polledError && polledError !== paymentError) {\r\n          setPaymentError(polledError);\r\n      }\r\n      if (polledStatus === 'completed' || polledStatus === 'failed') {\r\n          setPaymentProcessing(false);\r\n          fetchOrders();\r\n      }\r\n    }, [polledStatus, polledError, paymentStatus, paymentError, fetchOrders]);\r\n\r\n\r\n\r\n  const placeOrder = async (mealId) => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(`${API}/orders/`, { meal_id: mealId, quantity: 1 });\r\n      await fetchOrders();\r\n      alert('Order placed successfully!');\r\n    } catch (error) {\r\n      alert('Error placing order: ' + (error.response?.data?.detail || 'Unknown error'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatPhoneNumber = (phone) => {\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n    if (cleaned.startsWith('0')) {\r\n      return '254' + cleaned.substring(1);\r\n    }\r\n    if (cleaned.startsWith('7') && cleaned.length === 9) {\r\n      return '254' + cleaned;\r\n    }\r\n    return cleaned;\r\n  };\r\n\r\n  const initiateMpesaPayment = async (orderId) => {\r\n    const phone = prompt('Enter your M-Pesa phone number (e.g., 0712345678):');\r\n    if (!phone) return;\r\n\r\n    const formattedPhone = formatPhoneNumber(phone);\r\n    if (!formattedPhone.startsWith('254') || formattedPhone.length !== 12) {\r\n      alert('Please enter a valid Kenyan phone number (e.g., 0712345678)');\r\n      return;\r\n    }\r\n    setPaymentProcessing(true);\r\n    setCurrentPaymentOrderId(orderId);\r\n    setPaymentStatus('pending');\r\n    setPaymentError(null)\r\n    setPaymentProcessing(true);\r\n    try {\r\n      const response = await axios.post(`${API}/mpesa-payment/`, {\r\n        order_id: orderId,\r\n        phone: formattedPhone\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        console.log(`Payment request sent to ${formattedPhone}. Please complete the transaction on your phone.`);\r\n        \r\n      } else {\r\n        setPaymentStatus('failed');\r\n        setPaymentError(response.data.error || 'Payment initiation failed');\r\n        setPaymentProcessing(false);\r\n        alert(response.data.error || 'Payment initiation failed');\r\n      }\r\n    } catch (error) {\r\n      alert('Payment failed: ' + (error.response?.data?.error || 'Unknown error'));\r\n    } finally {\r\n      setPaymentProcessing(false);\r\n    }\r\n  };\r\n\r\n  const pollPaymentStatus = async (orderId) => {\r\n    let attempts = 0;\r\n    const maxAttempts = 12;\r\n    \r\n    const checkStatus = async () => {\r\n      attempts++;\r\n      try {\r\n        const response = await axios.get(`${API}/orders/${orderId}/`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n          }\r\n        });\r\n\r\n        if (response.data.payment_status === 'completed') {\r\n          await fetchOrders();\r\n          alert('Payment completed successfully!');\r\n          return true;\r\n        } else if (response.data.payment_status === 'failed') {\r\n          alert('Payment failed: ' + (response.data.payment_error || 'Unknown error'));\r\n          return true;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error checking payment status:', error);\r\n      }\r\n\r\n      if (attempts < maxAttempts) {\r\n        setTimeout(checkStatus, 5000); \r\n      } else {\r\n        alert('Payment status check timed out. Please verify your payment and refresh the page.');\r\n      }\r\n      return false;\r\n    };\r\n\r\n    await checkStatus();\r\n  };\r\n\r\n\r\n  const cancelOrder = async (orderId) => {\r\n    const confirmCancel = window.confirm(\"Are you sure you want to cancel this order?\");\r\n    if (!confirmCancel) return;\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API}/orders/cancel/`, { \r\n        order_id: orderId\r\n      });\r\n      if (response.data.message) {\r\n        alert(response.data.message);\r\n        await fetchOrders();\r\n      }\r\n    } catch (error) {\r\n      if (error.response?.data?.error) {\r\n         alert('Cancellation failed: ' + error.response.data.error);\r\n      } else {\r\n         alert('Cancellation failed: ' + (error.response?.data?.detail || 'Unknown error'));\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-gray-900\">Welcome back, {user.name}!</h2>\r\n        <p className=\"text-gray-600\">What would you like to eat today?</p>\r\n      </div>\r\n\r\n      <div className=\"mb-6\">\r\n        <nav className=\"flex space-x-8\">\r\n          <button\r\n            onClick={() => setActiveTab('menu')}\r\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n              activeTab === 'menu'\r\n                ? 'border-orange-500 text-orange-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            }`}\r\n          >\r\n            Today's Menu\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('orders')}\r\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n              activeTab === 'orders'\r\n                ? 'border-orange-500 text-orange-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            }`}\r\n          >\r\n            My Orders ({orders.length})\r\n          </button>\r\n        </nav>\r\n      </div>\r\n\r\n      {activeTab === 'menu' && (\r\n        <div>\r\n          {todaysMenu.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\r\n                <span className=\"text-gray-400 text-2xl\">🍽️</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No menu available today</h3>\r\n              <p className=\"text-gray-500\">Check back later or contact your caterer.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {todaysMenu.map((meal) => (\r\n                <div key={meal.id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n                  <div className=\"h-48 bg-gray-200 flex items-center justify-center\">\r\n                    {meal.image_url ? (\r\n                      <img \r\n                        src={meal.image_url} \r\n                        alt={meal.name}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <span className=\"text-6xl\">🍽️</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"p-6\">\r\n                    <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{meal.name}</h3>\r\n                    <p className=\"text-gray-600 mb-4\">{meal.description}</p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-2xl font-bold text-orange-600\">KSh {meal.price}</span>\r\n                      <button\r\n                        onClick={() => placeOrder(meal.id)}\r\n                        disabled={loading}\r\n                        className=\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50\"\r\n                      >\r\n                        {loading ? 'Ordering...' : 'Order Now'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'orders' && (\r\n        <div>\r\n          {orders.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\r\n                <span className=\"text-gray-400 text-2xl\">📦</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No orders yet</h3>\r\n              <p className=\"text-gray-500\">Place your first order from today's menu!</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {orders.map((order) => (\r\n                <div key={order.id} className=\"bg-white rounded-lg shadow-md p-6\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">{order.meal_name}</h3>\r\n                      <p>Total: KSh {order.total_amount}</p> \r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Ordered on: {new Date(order.order_date).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className=\"text-2xl font-bold text-orange-600 mb-2\">KSh {order.total}</div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                          order.status === 'confirmed' \r\n                          ? 'bg-green-100 text-green-800'\r\n                          : order.status === 'pending'\r\n                          ? 'bg-yellow-100 text-yellow-800'\r\n                          : order.status === 'cancelled'\r\n                          ? 'bg-red-100 text-red-800'\r\n                          : order.status === 'completed'\r\n                          ? 'bg-blue-100 text-blue-800'\r\n                          : order.status === 'preparing' || order.status === 'ready'\r\n                          ? 'bg-purple-100 text-purple-800'\r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                          {order.status.charAt(0).toUpperCase() + order.status.slice(1)}\r\n                        </span>\r\n                        {order.status === 'pending' || order.status === 'confirmed' ? (\r\n                          <>\r\n                              {order.payment_status === 'pending' && (\r\n                                <button\r\n                                  onClick={() => initiateMpesaPayment(order.id)}\r\n                                  disabled={paymentProcessing}\r\n                                  className=\"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-md text-sm font-medium disabled:opacity-50\"\r\n                                >\r\n                                  {paymentProcessing ? 'Processing...' : 'Pay with M-Pesa'}\r\n                                </button>\r\n                              )}\r\n                              {order.payment_status !== 'completed' && (\r\n                                <button\r\n                                  onClick={() => cancelOrder(order.id)}\r\n                                  disabled={loading}\r\n                                  className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm font-medium disabled:opacity-50\"\r\n                                >\r\n                                  Cancel Order\r\n                                </button>\r\n                              )}\r\n                            </>\r\n                          ) : order.status === 'cancelled' ? (\r\n                            <span className=\"text-sm text-gray-500 italic\">Order Cancelled</span>\r\n                          ) : order.status === 'completed' ? (\r\n                            <span className=\"text-sm text-gray-500 italic\">Order Completed</span>\r\n                          ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerDashboard;","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from './AuthProvider';\r\nimport axios from 'axios';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\nconst AdminDashboard = () => {\r\n  const { user } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('meals');\r\n  const [meals, setMeals] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [dailyRevenue, setDailyRevenue] = useState({ total_revenue: 0, total_orders: 0 });\r\n  const [loading, setLoading] = useState(false);\r\n  const [mealForm, setMealForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    category: '',\r\n    image_url: ''\r\n  });\r\n  const [selectedMealsForMenu, setSelectedMealsForMenu] = useState([]);\r\n  const [menuDate, setMenuDate] = useState(new Date().toISOString().split('T')[0]);\r\n\r\n  useEffect(() => {\r\n    fetchMeals();\r\n    fetchOrders();\r\n    fetchDailyRevenue();\r\n  }, []);\r\n\r\n  const fetchMeals = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/meals/`);\r\n      setMeals(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching meals:', error);\r\n    }\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/orders/`);\r\n      setOrders(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    }\r\n  };\r\n\r\n  const fetchDailyRevenue = async () => {\r\n    try {\r\n      const response = await axios.get(`${API}/orders/today/revenue/`);\r\n      setDailyRevenue(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching revenue:', error);\r\n    }\r\n  };\r\n\r\n  const handleMealSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(`${API}/meals/`, { \r\n        ...mealForm,\r\n        price: parseFloat(mealForm.price)\r\n      });\r\n      setMealForm({ name: '', description: '', price: '', category: '', image_url: '' });\r\n      await fetchMeals();\r\n      alert('Meal created successfully!');\r\n    } catch (error) {\r\n      alert('Error creating meal: ' + (error.response?.data?.detail || 'Unknown error'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createDailyMenu = async () => {\r\n    if (selectedMealsForMenu.length === 0) {\r\n      alert('Please select at least one meal for the menu');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(`${API}/daily-menu/`, { \r\n        date: menuDate,\r\n        meal_ids: selectedMealsForMenu\r\n      });\r\n      setSelectedMealsForMenu([]);\r\n      alert('Daily menu created successfully!');\r\n    } catch (error) {\r\n      alert('Error creating menu: ' + (error.response?.data?.detail || 'Unknown error'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleMealSelection = (mealId) => {\r\n    setSelectedMealsForMenu(prev => \r\n      prev.includes(mealId) \r\n        ? prev.filter(id => id !== mealId)\r\n        : [...prev, mealId]\r\n    );\r\n  };\r\n\r\n  const handleDeleteMeal = async (mealId) => {\r\n  const meal = meals.find(m => m.id === mealId);\r\n\r\n  if (window.confirm(`Are you sure you want to delete \"${meal?.name}\"? This action cannot be undone.`)) {\r\n    setLoading(true);\r\n    try {\r\n      await axios.delete(`${API}/meals/${mealId}/`);\r\n      await fetchMeals();\r\n      alert('Meal deleted successfully!');\r\n    } catch (error) {\r\n      const errorMessage = error.response?.data?.error || 'Unknown error';\r\n      alert('Error deleting meal: ' + errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n};\r\n\r\n  const getDefaultImage = (category) => {\r\n    const images = {\r\n      'Appetizer': 'Add image URL here',\r\n      'Main Course': 'https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Nzd8MHwxfHNlYXJjaHwyfHxkZWxpY2lvdXMlMjBmb29kfGVufDB8fHx8MTc1MzIxNzUzN3ww&ixlib=rb-4.1.0&q=85',\r\n      'Burger': 'https://images.unsplash.com/photo-1600555379760-08a022e4726d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NjZ8MHwxfHxyZXN0YXVyYW50JTIwbWVhbHxlbnwwfHx8fDE3NTMyMTI1NTl8MA&ixlib=rb-4.1.0&q=85',\r\n      'Dessert': 'https://images.unsplash.com/photo-1551024601-bec78aea704b?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Nzd8MHwxfHNlYXJjaHwxfHxkZWxpY2lvdXMlMjBmb29kfGVufDB8fHx8MTc1MzIxNzUzN3ww&ixlib=rb-4.1.0&q=85',\r\n      'default': 'Add image URL here' // Default image URL\r\n    };\r\n    return images[category] || images['default'];\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h2>\r\n        <p className=\"text-gray-600\">Manage your restaurant operations</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <span className=\"text-green-600 text-xl\">💰</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Today's Revenue</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">KSh {dailyRevenue.total_revenue}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <span className=\"text-blue-600 text-xl\">📦</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Today's Orders</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{dailyRevenue.total_orders}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <span className=\"text-purple-600 text-xl\">🍽️</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Meals</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{meals.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-6\">\r\n        <nav className=\"flex space-x-8\">\r\n          {[\r\n            { id: 'meals', label: 'Meals', count: meals.length },\r\n            { id: 'menu', label: 'Daily Menu' },\r\n            { id: 'orders', label: 'Orders', count: orders.length }\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                activeTab === tab.id\r\n                  ? 'border-orange-500 text-orange-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              {tab.label} {tab.count && `(${tab.count})`}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {activeTab === 'meals' && (\r\n        <div className=\"space-y-8\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Add New Meal</h3>\r\n            <form onSubmit={handleMealSubmit} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"mealName\" className=\"block text-sm font-medium text-gray-700 mb-2\">Meal Name</label>\r\n                <input\r\n                  id=\"mealName\"\r\n                  type=\"text\"\r\n                  required\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                  value={mealForm.name}\r\n                  onChange={(e) => setMealForm({...mealForm, name: e.target.value})}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"mealCategory\" className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\r\n                <select\r\n                  id=\"mealCategory\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                  value={mealForm.category}\r\n                  onChange={(e) => setMealForm({...mealForm, category: e.target.value, image_url: getDefaultImage(e.target.value)})}\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n                  <option value=\"Main Course\">Main Course</option>\r\n                  <option value=\"Burger\">Burger</option>\r\n                  <option value=\"Dessert\">Dessert</option>\r\n                  <option value=\"Beverage\">Beverage</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"mealPrice\" className=\"block text-sm font-medium text-gray-700 mb-2\">Price (KSh)</label>\r\n                <input\r\n                  id=\"mealPrice\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  required\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                  value={mealForm.price}\r\n                  onChange={(e) => setMealForm({...mealForm, price: e.target.value})}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"mealImage\" className=\"block text-sm font-medium text-gray-700 mb-2\">Image URL (Optional)</label>\r\n                <input\r\n                  id=\"mealImage\"\r\n                  type=\"url\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                  value={mealForm.image_url}\r\n                  onChange={(e) => setMealForm({...mealForm, image_url: e.target.value})}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label htmlFor=\"mealDescription\" className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n                <textarea\r\n                  id=\"mealDescription\"\r\n                  required\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                  value={mealForm.description}\r\n                  onChange={(e) => setMealForm({...mealForm, description: e.target.value})}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50\"\r\n                >\r\n                  {loading ? 'Creating...' : 'Create Meal'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {meals.map((meal) => (\r\n              <div key={meal.id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n                <div className=\"h-48 bg-gray-200 flex items-center justify-center\">\r\n                  {meal.image_url ? (\r\n                    <img \r\n                      src={meal.image_url} \r\n                      alt={meal.name}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-6xl\">🍽️</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"p-4\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{meal.name}</h3>\r\n                    <span className=\"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded\">\r\n                      {meal.category}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-gray-600 text-sm mb-3\">{meal.description}</p>\r\n                  <div className=\"text-xl font-bold text-orange-600\">KSh {meal.price}</div>\r\n                  <button\r\n                    onClick={() => handleDeleteMeal(meal.id)}\r\n                    className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm\"\r\n                    >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'menu' && (\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Create Daily Menu</h3>\r\n          \r\n          <div className=\"mb-6\">\r\n            <label htmlFor=\"menuDate\" className=\"block text-sm font-medium text-gray-700 mb-2\">Menu Date</label>\r\n            <input\r\n              id=\"menuDate\"\r\n              type=\"date\"\r\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n              value={menuDate}\r\n              onChange={(e) => setMenuDate(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <h4 className=\"text-md font-medium text-gray-900 mb-3\">\r\n              Select Meals for Menu ({selectedMealsForMenu.length} selected)\r\n            </h4>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {meals.map((meal) => (\r\n                <div\r\n                  key={meal.id}\r\n                  className={`border-2 rounded-lg p-4 cursor-pointer transition-colors ${\r\n                    selectedMealsForMenu.includes(meal.id)\r\n                      ? 'border-orange-500 bg-orange-50'\r\n                      : 'border-gray-200 hover:border-orange-300'\r\n                  }`}\r\n                  onClick={() => toggleMealSelection(meal.id)}\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden\">\r\n                      {meal.image_url ? (\r\n                        <img \r\n                          src={meal.image_url} \r\n                          alt={meal.name}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <span className=\"text-lg\">🍽️</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h5 className=\"font-medium text-gray-900\">{meal.name}</h5>\r\n                      <p className=\"text-sm text-gray-600\">KSh {meal.price}</p>\r\n                    </div>\r\n                    <div className={`w-5 h-5 rounded border-2 ${\r\n                      selectedMealsForMenu.includes(meal.id)\r\n                        ? 'bg-orange-500 border-orange-500'\r\n                        : 'border-gray-300'\r\n                    }`}>\r\n                      {selectedMealsForMenu.includes(meal.id) && (\r\n                        <span className=\"text-white text-xs\">✓</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={createDailyMenu}\r\n            disabled={loading || selectedMealsForMenu.length === 0}\r\n            className=\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Creating...' : 'Create Daily Menu'}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'orders' && (\r\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">All Orders</h3>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Order Details\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Customer\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Total\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {orders.map((order) => (\r\n                  <tr key={order.id}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{order.meal_name}</div>\r\n                      <div className=\"text-sm text-gray-500\">Qty: {order.quantity}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      Customer ID: {String(order.customer_id).slice(0, 8)}...\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {order.date}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        order.payment_status === 'completed'\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : 'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {order.payment_status === 'completed' ? 'Paid' : 'Pending Payment'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      KSh {order.total}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;","import React, { useState } from 'react';\r\nimport LoginForm from './LoginForm';\r\n\r\nfunction Home() {\r\n  const [showLoginForm, setShowLoginForm] = useState(false);\r\n\r\n  const navigateToLogin = () => {\r\n    setShowLoginForm(true);\r\n  };\r\n  if (showLoginForm) {\r\n    return <LoginForm />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n    <header className=\"sticky top-0 z-50 bg-white shadow-md\">\r\n    <div className=\"container mx-auto px-4 py-4 flex justify-between items-center\">\r\n      <div className=\"flex items-center space-x-2\">\r\n        <div className=\"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n          <span className=\"text-white font-bold text-lg\">🍽️</span>\r\n        </div>\r\n        <h1 className=\"text-2xl font-bold text-gray-900 whitespace-nowrap\">Mealy</h1>\r\n      </div>\r\n      <div className=\"flex space-x-3\">\r\n        <button \r\n          onClick={navigateToLogin}\r\n          className=\"px-4 py-2 border-2 border-orange-500 text-orange-500 rounded-full font-medium hover:bg-orange-500 hover:text-white transition-colors\"\r\n        >\r\n          Login\r\n        </button>\r\n        <button \r\n          onClick={navigateToLogin}\r\n          className=\"px-4 py-2 bg-orange-500 text-white rounded-full font-medium hover:bg-orange-600 transition-colors\"\r\n        >\r\n          Sign Up\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </header>\r\n  <section className=\"py-12 md:py-20 bg-gray-50\">\r\n    <div className=\"container mx-auto px-4 flex flex-col md:flex-row items-center\">\r\n      <div className=\"md:w-1/2 mb-10 md:mb-0 md:pr-10\">\r\n        <h1 className=\"text-4xl md:text-5xl font-bold text-gray-800 leading-tight mb-4\">\r\n          Delicious Food, Delivered to You\r\n        </h1>\r\n        <p className=\"text-lg text-gray-600 mb-8\">\r\n          Connect restaurants with hungry customers. Admins manage menus, customers order with ease.\r\n        </p>\r\n        <div className=\"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4\">\r\n        </div>\r\n      </div>\r\n      <div className=\"md:w-1/2 rounded-xl overflow-hidden shadow-xl\">\r\n        <img \r\n          src=\"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80\" \r\n          alt=\"Food delivery\" \r\n          className=\"w-full h-auto object-cover\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section id=\"features\" className=\"py-16 bg-gray-50\">\r\n    <div className=\"container mx-auto px-4\">\r\n      <h2 className=\"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12\">\r\n        Why Choose Mealy?\r\n      </h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n        {[\r\n          { icon: '📋', title: 'Easy Menu Management', desc: 'Admins can easily create, update, and manage food menus in real-time.' },\r\n          { icon: '🍔', title: 'Wide Food Selection', desc: 'Browse menus from multiple restaurants and cuisines in one place.' },\r\n          { icon: '⏱️', title: 'Fast Delivery', desc: 'Get your favorite meals delivered quickly to your doorstep.' }\r\n        ].map((feature, index) => (\r\n          <div key={index} className=\"bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow\">\r\n            <div className=\"text-4xl mb-4\">{feature.icon}</div>\r\n            <h3 className=\"text-xl font-bold text-gray-800 mb-2\">{feature.title}</h3>\r\n            <p className=\"text-gray-600\">{feature.desc}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section className=\"py-16 bg-gray-50\">\r\n    <div className=\"container mx-auto px-4\">\r\n      <h2 className=\"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12\">\r\n        Designed for Both Roles\r\n      </h2>\r\n      <div className=\"flex flex-col lg:flex-row gap-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden flex-1 border-t-4 border-orange-500\">\r\n          <div className=\"p-8\">\r\n            <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">For Restaurant Admins</h3>\r\n            <ul className=\"mb-8 space-y-3\">\r\n              {[\r\n                'Easy menu creation and management',\r\n                'Real-time order notifications',\r\n                'Sales analytics dashboard',\r\n                'Customer feedback management'\r\n              ].map((item, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-green-500 mr-2\">✓</span>\r\n                  <span className=\"text-gray-600\">{item}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <button \r\n              onClick={navigateToLogin}\r\n              className=\"w-full py-3 bg-orange-500 text-white rounded-full font-medium hover:bg-orange-600 transition-colors\"\r\n            >\r\n              Register Restaurant\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden flex-1 border-t-4 border-teal-500\">\r\n          <div className=\"p-8\">\r\n            <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">For Customers</h3>\r\n            <ul className=\"mb-8 space-y-3\">\r\n              {[\r\n                'Browse menus from multiple restaurants',\r\n                'Simple ordering process',\r\n                'Real-time order tracking',\r\n                'Save favorite meals'\r\n              ].map((item, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-green-500 mr-2\">✓</span>\r\n                  <span className=\"text-gray-600\">{item}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <button \r\n              onClick={navigateToLogin}\r\n              className=\"w-full py-3 bg-teal-600 text-white rounded-full font-medium hover:bg-teal-700 transition-colors\"\r\n            >\r\n              Order Now\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <footer id=\"contact\" className=\"bg-gray-800 text-white pt-16 pb-8\">\r\n    <div className=\"container mx-auto px-4\">\r\n      <div className=\"flex flex-col md:flex-row justify-between mb-12\">\r\n        <div className=\"mb-8 md:mb-0\">\r\n          <h3 className=\"text-2xl font-bold text-orange-400 mb-4\">Mealy</h3>\r\n          <p className=\"text-gray-300 max-w-xs\">\r\n            Connecting great food with hungry customers\r\n          </p>\r\n        </div>\r\n        <div className=\"mb-8 md:mb-0\">\r\n          <h4 className=\"text-lg font-semibold mb-4\">Contact Us</h4>\r\n          <p className=\"text-gray-300 mb-2\">Email: info@mealy.com</p>\r\n          <p className=\"text-gray-300\">Phone: 0712345678</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"pt-8 border-t border-gray-700 text-center text-gray-400\">\r\n        <p>&copy; 2023 Mealy. All rights reserved.</p>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n    </div>)\r\n};\r\n\r\nexport default Home;","import React from 'react';\nimport { useAuth } from './AuthProvider';\nimport Header from './Header';\nimport LoginForm from './LoginForm';\nimport CustomerDashboard from './CustomerDashboard';\nimport AdminDashboard from './AdminDashboard';\nimport Home from './Home'; \nimport './App.css';\n\nconst App = () => {\n  const { user } = useAuth();\n  if (!user) {\n    return <Home />;\n  }\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      {user.role === 'admin' ? <AdminDashboard /> : <CustomerDashboard />}\n    </div>\n  );\n};\n\nexport default App;","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst usePaymentStatus = (orderId, initialStatus) => {\r\n  const [status, setStatus] = useState(initialStatus);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!orderId || status === 'completed') return;\r\n\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const response = await axios.get(`/api/orders/${orderId}/`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n          }\r\n        });\r\n\r\n        const newStatus = response.data.payment_status;\r\n        setStatus(newStatus);\r\n\r\n        if (newStatus === 'completed' || newStatus === 'failed') {\r\n          clearInterval(interval);\r\n        }\r\n      } catch (err) {\r\n        setError('Error checking payment status');\r\n        clearInterval(interval);\r\n      }\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [orderId, status]);\r\n\r\n  return { status, error };\r\n};\r\n\r\nexport default usePaymentStatus;"],"names":["API","axios","defaults","withCredentials","AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","token","setToken","localStorage","getItem","loading","setLoading","useEffect","headers","common","fetchUser","async","response","get","data","error","console","logout","removeItem","_jsx","Provider","value","login","email","password","post","access_token","userData","setItem","success","_error$response","_error$response2","_error$response2$data","message","detail","register","name","role","arguments","length","undefined","_error$response3","_error$response4","_error$response4$data","useAuth","context","useContext","Error","Header","className","_jsxs","onClick","LoginForm","isLogin","setIsLogin","formData","setFormData","setError","onSubmit","result","e","preventDefault","htmlFor","id","type","required","placeholder","onChange","target","disabled","CustomerDashboard","todaysMenu","setTodaysMenu","orders","setOrders","activeTab","setActiveTab","paymentProcessing","setPaymentProcessing","currentPaymentOrderId","setCurrentPaymentOrderId","paymentStatus","setPaymentStatus","paymentError","setPaymentError","fetchOrders","useNavigate","meals","fetchTodaysMenu","status","polledStatus","polledError","usePaymentStatus","map","meal","image_url","src","alt","description","price","meal_id","mealId","quantity","alert","_error$response$data","placeOrder","order","meal_name","total_amount","Date","order_date","toLocaleString","total","charAt","toUpperCase","slice","_Fragment","payment_status","phone","prompt","formattedPhone","cleaned","replace","startsWith","substring","formatPhoneNumber","orderId","order_id","log","initiateMpesaPayment","window","confirm","_error$response3$data","cancelOrder","AdminDashboard","setMeals","dailyRevenue","setDailyRevenue","total_revenue","total_orders","mealForm","setMealForm","category","selectedMealsForMenu","setSelectedMealsForMenu","menuDate","setMenuDate","toISOString","split","fetchMeals","fetchDailyRevenue","getDefaultImage","images","label","count","tab","parseFloat","step","rows","find","m","delete","errorMessage","handleDeleteMeal","includes","toggleMealSelection","prev","filter","date","meal_ids","String","customer_id","showLoginForm","setShowLoginForm","navigateToLogin","icon","title","desc","feature","index","item","App","Home","initialStatus","setStatus","interval","setInterval","newStatus","clearInterval","err"],"sourceRoot":""}